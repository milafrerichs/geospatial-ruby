<!DOCTYPE html>
<html>
  <head>
    <title>Geospatial Ruby</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href="/stylesheets/normalize.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/all.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <textarea id='source'>class: middle, center&#x000A;# Geospatial Ruby&#x000A;---&#x000A;class: middle, center&#x000A;background-image: url(/images/Ruby_logo.png)&#x000A;# Ruby is awesome!!&#x000A;---&#x000A;class: middle, center&#x000A;# Jeder sollte mehr Ruby schreiben&#x000A;---&#x000A;class: middle, center&#x000A;# Ihr sollte mehr Ruby schreiben!!&#x000A;---&#x000A;class: middle, center&#x000A;# Aber warum Ruby?&#x000A;???&#x000A;Wer von euch hat schon was von Ruby ghört oder damit gearbeitet?&#x000A;---&#x000A;class: middle, center&#x000A;# Ruby ist einfach zu lernen&#x000A;---&#x000A;class: middle, center&#x000A;# Ruby ist fun!&#x000A;---&#x000A;class: middle, center&#x000A;# Ruby ist angenehm zu schreiben&#x000A;---&#x000A;class: middle, center&#x000A;# Ruby ist geschrieben für "Developer Happiness"&#x000A;---&#x000A;class: middle, center&#x000A;# Ruby hat eine sehr aktive Community&#x000A;---&#x000A;class: middle, center&#x000A;# Ruby hat eine einfache Syntax&#x000A;---&#x000A;class: middle, center&#x000A;# Ruby hat RubyGems & Bundler&#x000A;???&#x000A;Paket-hosting & Paketmanager&#x000A;---&#x000A;class: middle, center&#x000A;# Ruby hat Rails&#x000A;---&#x000A;class: middle, center&#x000A;# Aber was ist eigentlich dieses Ruby?&#x000A;---&#x000A;layout: true&#x000A;.footer[&#x000A;  <img src="/images/logo.png" height="20" />&#x000A;  .what[Mila Frerichs, Geospatial Ruby, FOSSGIS 2015]&#x000A;]&#x000A;&#x000A;---&#x000A;# Ruby&#x000A;--&#x000A;&#x000A;### Konzepte&#x000A;- objektorientiert&#x000A;--&#x000A;&#x000A;- dynamisch&#x000A;--&#x000A;&#x000A;- automatische Speicherbereinigung&#x000A;--&#x000A;&#x000A;&#x000A;Alle Datentypen sind in Ruby Objekte&#x000A;--&#x000A;&#x000A;```&#x000A;p "Hello World"&#x000A;```&#x000A;das Hallo Welt von Ruby&#x000A;---&#x000A;class: middle, center&#x000A;# Ruby und Geospatial&#x000A;???&#x000A;Ich weiß ist nicht mehr in; heutzutage ist ja alles Javscript&#x000A;---&#x000A;class: center&#x000A;# Wer benutzt Ruby im Geo-Umfeld?&#x000A;<img src="/images/708px-ESRI_Logo.svg.png" height="100" />&#x000A;&#x000A;<img src="/images/logos_full_cartodb_light.png" height="100" />&#x000A;&#x000A;<img src="/images/Propublica_logo.jpg" height="100" />&#x000A;&#x000A;<img src="/images/91249.png" height="100" />&#x000A;???&#x000A;Esri, CartoDB, ProPublica, Spatial Networks&#x000A;---&#x000A;class: middle, center&#x000A;# Was war zuerst Ruby oder Geo?&#x000A;---&#x000A;class: middle, center&#x000A;# Umfrage hat ergeben:  &#x000A;# zuerst Ruby und Geo später&#x000A;---&#x000A;class: middle, center&#x000A;# Warum ist das so?&#x000A;---&#x000A;class: middle, center&#x000A;# Und was sagt ihr dazu?&#x000A;---&#x000A;class: middle, center&#x000A;# Drei wichtige Bibliotheken&#x000A;---&#x000A;class: middle, center&#x000A;## SimplerTiles&#x000A;--&#x000A;&#x000A;## Terraformer-ruby&#x000A;--&#x000A;&#x000A;## RGeo&#x000A;---&#x000A;class: middle, center&#x000A;# SimplerTiles&#x000A;Entwickler: ProPublica  &#x000A;https://github.com/propublica/simpler-tiles&#x000A;---&#x000A;# SimplerTiles&#x000A;Ruby-Wrapper für Simple-Tiles&#x000A;&#x000A;--&#x000A;### Simple-Tiles&#x000A;C-Bibliothek für einfache Tile-Server&#x000A;> Simple Tiles is an image generation library for spatial data written in C. At it's core it is a thin wrapper on top of OGR for spatial data and Cairo for image generation.&#x000A;---&#x000A;# Ein einfaches Beispiel&#x000A;```ruby&#x000A;  require 'rubygems'&#x000A;  require 'sinatra'&#x000A;  require 'simpler_tiles'&#x000A;&#x000A;  get '/tiles/:x/:y/:z.png' do&#x000A;    content_type 'image/png'&#x000A;    map = SimplerTiles::Map.new do |m|&#x000A;      m.bgcolor = "#000000"&#x000A;      m.slippy params[:x].to_i, params[:y].to_i, params[:z].to_i&#x000A;      m.layer File.join("ne_110m_admin_0_countries_lakes.shp") do |l|&#x000A;        l.query "select * from 'ne_110m_admin_0_countries_lakes'"&#x000A;      end&#x000A;    end&#x000A;    map.to_png&#x000A;  end&#x000A;```&#x000A;<iframe id="simplemap" src="http://simple-mapping-codeformuenster.gigantic.io/" width="100%"/>&#x000A;???&#x000A;slippy: Takes a series of google map tile coordinates and sets the bounds, projection width and height of the simplet_map_t instance accordingly.&#x000A;---&#x000A;# Ergebnis&#x000A;![Tile](http://tile-server-world-codeformuenster.gigantic.io/tiles/1/2/3/3.png)&#x000A;---&#x000A;# Ein komplexeres Beispiel&#x000A;## Änderung der Projektion&#x000A;```ruby&#x000A;&#x000A;  require 'rubygems'&#x000A;  require 'sinatra'&#x000A;  require 'simpler_tiles'&#x000A;&#x000A;  get '/tiles/:x/:y/:z.png' do&#x000A;    content_type 'image/png'&#x000A;    map = SimplerTiles::Map.new do |m|&#x000A;      m.bgcolor = "#000000"&#x000A;      m.slippy params[:x].to_i, params[:y].to_i, params[:z].to_i&#x000A;*      m.srs     = 'EPSG:4326'&#x000A;      m.layer File.join("ne_110m_admin_0_countries_lakes.shp") do |l|&#x000A;        l.query "select * from 'ne_110m_admin_0_countries_lakes'"&#x000A;      end&#x000A;    end&#x000A;    map.to_png&#x000A;  end&#x000A;```&#x000A;---&#x000A;# Ergebnis&#x000A;<iframe id="simplemap" src="http://simple-mapping-codeformuenster.gigantic.io/projections/1" height="50%" width="100%"/>&#x000A;---&#x000A;# Änderung von Stilen&#x000A;```ruby&#x000A;&#x000A;  require 'rubygems'&#x000A;  require 'sinatra'&#x000A;  require 'simpler_tiles'&#x000A;&#x000A;  get '/tiles/:x/:y/:z.png' do&#x000A;    content_type 'image/png'&#x000A;    map = SimplerTiles::Map.new do |m|&#x000A;      m.bgcolor = "#000000"&#x000A;      m.slippy params[:x].to_i, params[:y].to_i, params[:z].to_i&#x000A;      m.layer File.join("ne_110m_admin_0_countries_lakes.shp") do |l|&#x000A;        l.query "select * from 'ne_110m_admin_0_countries_lakes'" do |q|&#x000A;          q.styles&#x000A;*            'stroke' => '#002240',&#x000A;*            'weight' => 2,&#x000A;*            'fill' => '#f00000'&#x000A;        end&#x000A;      end&#x000A;    end&#x000A;    map.to_png&#x000A;  end&#x000A;```&#x000A;---&#x000A;# Ergebnis&#x000A;<iframe id="simplemap" src="http://simple-mapping-codeformuenster.gigantic.io/projections/2" height="50%" width="100%"/>&#x000A;---&#x000A;# SimplerTiles&#x000A;und noch viel mehr Einstellungsmöglichkeiten&#x000A;...&#x000A;---&#x000A;class: middle, center&#x000A;# Terraformer Ruby&#x000A;Entwickler: kenichi / ESRI (PDX & WSH)  &#x000A;[https://github.com/kenichi/terraformer-ruby](https://github.com/kenichi/terraformer-ruby)&#x000A;---&#x000A;# Terraformer Ruby&#x000A;Ruby Implementation der JS Bibliothek Terraformer.js von Esri&#x000A;> Toolkit for working with GeoJSON in pure Ruby&#x000A;---&#x000A;# Features&#x000A;- einfache geometrische Operationen wie: distance, intersects, contains, within, etc&#x000A;- parsen von ArcGIS und transformieren nach GeoJSON&#x000A;- ...&#x000A;---&#x000A;# Ein super simples Beispiel&#x000A;Zwei Koordinaten und deren Distanz&#x000A;```ruby&#x000A;  muenster = [7.625304,51.9606925].to_c&#x000A;  # => #<Terraformer::Coordinate lon=7.625304 lat=51.9606925 >&#x000A;  berlin = [13.4370738,52.5014505].to_c&#x000A;* p muenster.distance_to(berlin).to_f&#x000A;  # => 401087.2980443716&#x000A;```&#x000A;---&#x000A;# Distanz&#x000A;Zwischen zwei Punkten(GeoJSON style)&#x000A;```&#x000A;  muenster = Terraformer.parse '{ "type": "Point", "coordinates": [7.625304,51.9606925] }'&#x000A;  # => <Terraformer::Point:0x007ff45b131328 @coordinates=#<Terraformer::Coordinate lon=7.625304 lat=51.9606925 >&#x000A;  berlin = Terraformer.parse '{ "type": "Point", "coordinates": [13.4370738,52.5014505] }'&#x000A;* p muenster.distance_to(berlin).to_f&#x000A;  # => 401087.2980443716&#x000A;```&#x000A;---&#x000A;# Distanz&#x000A;Zwischen Punkt und Polygon&#x000A;```&#x000A;  muenster = Terraformer.parse '{ "type": "Point", "coordinates": [7.625304,51.9606925] }'&#x000A;  berlin = Terraformer.parse '{ "type": "Polygon", "coordinates": [ [ 13.417224884033203, 52.51350476109457 ], [ 13.411216735839844, 52.50671376947057 ], [ 13.399887084960938, 52.50086222750018 ], [ 13.402118682861328, 52.493233155027156 ], [ 13.425979614257812, 52.49417379714532 ], [ 13.432674407958984, 52.5069227387063 ], [ 13.417224884033203, 52.51350476109457 ] ] }'&#x000A;* p muenster.distance_to(berlin).to_f&#x000A;  # => 398572.8885717637&#x000A;```&#x000A;---&#x000A;# Enthält&#x000A;Ist ein Punkt in einem Polygon enthalten?&#x000A;```&#x000A;  muenster = Terraformer.parse '{ "type": "Point", "coordinates": [7.612452507019042, 51.963545851239274] }'&#x000A;  muenster_p = Terraformer.parse '{ "type": "Polygon", "coordinates": [ [ [ 7.604341506958008, 51.96819954862584 ], [ 7.601208686828613, 51.964735763027456 ], [ 7.603955268859864, 51.95825697220763 ], [ 7.618331909179687, 51.95801895797933 ], [ 7.61876106262207, 51.96478864726265 ], [ 7.611637115478515, 51.96938933686815 ], [ 7.604341506958008, 51.96819954862584 ] ] ] }'&#x000A;* p muenster.within?(muenster_p)&#x000A;  # => true&#x000A;```&#x000A;---&#x000A;# ArcGIS JSON zu GeoJSON&#x000A;transformieren von ArcGIS JSON-Objekten zu GeoJSON&#x000A;```&#x000A;  arcgis = '{ "x":-122.6764, "y":45.5165, "spatialReference": { "wkid": 4326 } }'&#x000A;* p Terraformer::ArcGIS.parse(arcgis).to_json&#x000A;  # => "{"type":"Point","coordinates":[-122.6764,45.5165]}"&#x000A;```&#x000A;--&#x000A;&#x000A;und natürlich auch andersrum&#x000A;```&#x000A;  muenster = '{ "type": "Point", "coordinates": [7.612452507019042, 51.963545851239274] }'&#x000A;* p Terraformer::ArcGIS.convert(muenster).to_json&#x000A;  # => "{"x":7.612452507019042,"y":51.963545851239274,"spatialReference":{"wkid":4326}}"&#x000A;```&#x000A;---&#x000A;class: middle, center&#x000A;## Und noch viel mehr&#x000A;---&#x000A;class: middle, center&#x000A;# RGeo&#x000A;Entwickler: Daniel Azuma  &#x000A;https://github.com/rgeo&#x000A;---&#x000A;class: middle, center&#x000A;## Kann einen ganzen Talk füllen&#x000A;&#x000A;---&#x000A;class: middle, center&#x000A;## für das arbeiten mit Rails gedacht&#x000A;---&#x000A;# Ein Überblick&#x000A;> At its core is an implementation of the industry standard OGC Simple Features Specification, which provides data representations of geometric objects such as points, lines, and polygons, along with a set of geometric analysis operations.&#x000A;&#x000A;- Represent spatial and geolocation data objects such as points, lines, and polygons in your Ruby application.&#x000A;- Perform standard spatial analysis operations such as finding intersections, creating buffers, and computing lengths and areas.&#x000A;- Correctly handle spherical geometry, and compute geographic projections for map display and data analysis.&#x000A;- Read and write location data in the WKT and WKB representations used by spatial databases.&#x000A;---&#x000A;# Extensions&#x000A;## Active Record Extensions für&#x000A;- PostGIS&#x000A;- MySQL Spatial&#x000A;- SpatiaLite&#x000A;&#x000A;--&#x000A;&#x000A;## rgeo-shapefile&#x000A;Lesen und schreiben von ESRI Shapefiles&#x000A;--&#x000A;&#x000A;## rgeo-geojson&#x000A;Lesen und schreiben von GeoJSON&#x000A;---&#x000A;class: middle, center&#x000A;## Daniel hat ein super 9-teiliges Tutorial auf seiner Seite:&#x000A;http://daniel-azuma.com/articles/georails&#x000A;---&#x000A;class: middle, center&#x000A;# Lasst uns diskutieren!</textarea>
  </body>
  <script src="/javascripts/all.js" type="text/javascript"></script>
  <script>
    var slideshow = remark.create({
    highlightLanguage: 'ruby',
    highlightStyle: 'tomorrow-night-eighties'
    });
  </script>
</html>
